# 图标使用指南

本文档介绍 FastApp 前端框架的图标系统使用方法。

## 一、图标组件 (ma-svg-icon)

### 1.1 基础使用

`ma-svg-icon` 是统一的图标组件，支持三种图标类型：**Iconify 图标**、**UnoCSS 图标**、**自定义 SVG 图标**。

```vue
<template>
  <!-- Iconify 图标 -->
  <ma-svg-icon name="mdi:account" :size="20" />
  
  <!-- UnoCSS 图标 -->
  <ma-svg-icon name="i-carbon:user" :size="24" />
  
  <!-- 自定义 SVG 图标 -->
  <ma-svg-icon name="custom-icon" :size="16" />
</template>
```

### 1.2 组件属性

| 属性 | 类型 | 说明 |
|------|------|------|
| `name` | `string` | 图标名称（必填） |
| `size` | `string \| number` | 图标大小（如 `20` 或 `'20px'`） |
| `color` | `string` | 图标颜色（CSS 颜色值） |
| `flip` | `'horizontal' \| 'vertical' \| 'both'` | 图标翻转方向 |
| `rotate` | `number` | 图标旋转角度（0-360） |

### 1.3 使用示例

```vue
<template>
  <ma-svg-icon name="mdi:home" :size="24" />
  <ma-svg-icon name="mdi:home" color="#409EFF" />
  <ma-svg-icon name="mdi:refresh" :rotate="90" />
  <ma-svg-icon name="mdi:arrow-right" flip="horizontal" />
</template>
```

## 二、图标类型

### 2.1 Iconify 图标

**格式**：`前缀:图标名`，如 `mdi:account`、`carbon:user`

**特点**：
- ✅ 支持 100+ 图标集，10万+ 图标
- ✅ 按需加载，性能优秀
- ✅ 统一的使用方式

**常用图标集**：
- `mdi` - Material Design Icons（5000+ 图标）
- `carbon` - Carbon Design System（1000+ 图标）
- `ant-design` - Ant Design Icons（700+ 图标）
- `heroicons` - Heroicons（200+ 图标）
- `tabler` - Tabler Icons（2000+ 图标）

**查找图标**：访问 [Iconify 图标库](https://icon-sets.iconify.design/) 搜索，复制格式：`前缀:图标名`

### 2.2 UnoCSS 图标

**格式**：`i-前缀:图标名`，如 `i-carbon:user`

**特点**：
- ✅ 编译时优化，性能最佳
- ✅ 支持图标类名直接使用

**使用示例**：
```vue
<!-- 作为组件使用 -->
<ma-svg-icon name="i-carbon:user" />

<!-- 作为类名使用 -->
<i class="i-carbon:user text-2xl"></i>
```

### 2.3 自定义 SVG 图标

**格式**：直接使用文件名（不含扩展名），如 `custom-icon`

**位置**：`web/src/assets/icons/`

**使用步骤**：
1. 将 SVG 文件放到 `web/src/assets/icons/` 目录
2. 使用文件名作为图标名称：`<ma-svg-icon name="custom-icon" />`

**注意事项**：
- SVG 文件名即为图标名称（不含 `.svg` 扩展名）
- 支持子目录，格式为 `目录名-图标名`
- SVG 文件会自动优化（生产环境）

## 三、图标选择器 (ma-icon-picker)

### 3.1 基础使用

`ma-icon-picker` 提供可视化的图标选择功能，支持从 Iconify 图标库和自定义图标中选择。

```vue
<template>
  <ma-icon-picker v-model="iconName" />
</template>

<script setup lang="ts">
const iconName = ref('mdi:home')
</script>
```

### 3.2 组件功能

- ✅ 支持搜索图标
- ✅ 支持分类浏览（Ant Design、Material Design、Carbon 等）
- ✅ 支持自定义图标
- ✅ 支持分页浏览
- ✅ 实时预览

## 四、图标生成脚本

### 4.1 生成图标集

**运行脚本**：
```bash
cd web
pnpm run gen:icons
```

**脚本功能**：
1. 显示所有可用的图标集列表
2. 选择需要生成的图标集（支持多选）
3. 选择是否需要离线使用
4. 自动生成配置文件

### 4.2 生成的文件

```
web/src/iconify/
├── index.json      # 用户选择的图标集配置
└── data.json       # 图标集数据（用于图标选择器）

web/public/icons/
└── *-raw.json      # 图标集原始数据（离线使用）
```

### 4.3 离线使用

如果选择离线使用，图标数据会下载到 `public/icons/` 目录，应用启动时自动加载。

**离线加载**：
```typescript
import { downloadAndInstall } from '@/iconify'

await downloadAndInstall('mdi')
await downloadAndInstall('carbon')
```

## 五、最佳实践

### 5.1 图标选择建议

- **优先使用 Iconify 图标**：图标丰富，使用方便
- **常用图标使用 UnoCSS**：性能最佳，编译时优化
- **特殊需求使用自定义 SVG**：完全自定义，适合品牌图标

### 5.2 图标命名规范

- **Iconify 图标**：使用官方格式 `前缀:图标名`
- **UnoCSS 图标**：使用格式 `i-前缀:图标名`
- **自定义图标**：使用有意义的文件名，如 `logo`、`user-avatar`

### 5.3 图标大小建议

- **小图标**：16px - 20px（菜单、按钮）
- **中等图标**：24px - 32px（卡片、列表）
- **大图标**：48px+（空状态、占位图）

## 六、常见问题

**Q1: 图标不显示？**  
- 检查图标名称格式是否正确
- Iconify 图标需要确保图标集已生成
- 自定义图标需要确保文件在 `web/src/assets/icons/` 目录

**Q2: 如何查找需要的图标？**  
- 访问 [Iconify 图标库](https://icon-sets.iconify.design/) 搜索
- 使用图标选择器 `ma-icon-picker` 浏览

**Q3: 如何添加自定义图标？**  
- 将 SVG 文件放到 `web/src/assets/icons/` 目录
- 使用文件名作为图标名称：`<ma-svg-icon name="文件名" />`

**Q4: 图标颜色不生效？**  
- 确保 SVG 图标没有固定颜色（使用 `currentColor`）
- 使用 `color` 属性设置颜色

**Q5: 如何离线使用图标？**  
- 运行 `pnpm run gen:icons` 选择离线使用
- 图标数据会下载到 `public/icons/` 目录
- 使用 `downloadAndInstall()` 加载离线图标集

**Q6: 图标选择器显示空白？**  
- 确保已运行图标生成脚本
- 检查 `web/src/iconify/data.json` 文件是否存在
